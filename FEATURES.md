# 智谱AI ComfyUI插件 - 功能特性

## 🎉 v1.1.0 新增功能

### 🎨 图片生成功能
- **节点名称**：智谱AI图片生成
- **模型**：cogview-3-flash（免费）
- **功能**：根据文本描述生成高质量图片
- **支持尺寸**：
  - 1024x1024（正方形）
  - 768x1344（竖屏）
  - 1344x768（横屏）
  - 1536x1024（宽屏）
  - 1024x1536（高屏）
- **质量选项**：standard（标准）/ hd（高清）
- **数量**：一次最多生成4张图片

### 🎬 视频生成功能
- **节点名称**：智谱AI视频生成
- **模型**：cogvideox-flash（免费）
- **功能**：根据文本描述生成短视频
- **时长**：2-10秒可选
- **特殊功能**：支持图生视频（提供参考图片URL）

### 🆓 免费模型支持
**对话模型**：
- glm-4.5-flash（推荐文本对话）
- glm-4.1v-thinking-flash（思考版，👁️支持视觉）
- glm-4-flash-250414（文本对话）
- glm-4v-flash（视觉版，👁️支持视觉）
- glm-z1-flash（文本对话）

**生成模型**：
- cogview-3-flash（图片生成）
- cogvideox-flash（视频生成）

## 📋 完整节点列表

### 基础节点
1. **智谱AI API配置** - 管理API密钥
2. **智谱AI文本对话** - 纯文本对话
3. **智谱AI视觉对话** - 图片理解对话
4. **智谱AI对话历史** - 多轮连续对话

### 生成节点（新增）
5. **智谱AI图片生成** - 文生图功能
6. **智谱AI视频生成** - 文生视频功能

## 🚀 使用建议

### 免费优先策略
1. **文本对话**：优先使用 `glm-4.5-flash`
2. **视觉对话**：
   - 推荐：`glm-4v-flash`（专业视觉模型）
   - 备选：`glm-4.1v-thinking-flash`（思考型视觉模型）
3. **图片生成**：使用 `cogview-3-flash`
4. **视频生成**：使用 `cogvideox-flash`

### 工作流建议
1. **创作流程**：文本对话 → 图片生成 → 视频生成
2. **内容审查**：先用文本对话优化提示词
3. **批量生成**：图片生成支持一次生成多张

## ⚡ 性能特点

| 功能 | 响应速度 | 成本 | 质量 |
|------|----------|------|------|
| 文本对话 | ⚡⚡⚡ | 🆓 免费 | ⭐⭐⭐⭐ |
| 视觉对话 | ⚡⚡⚡ | 🆓 免费 | ⭐⭐⭐⭐ |
| 图片生成 | ⚡⚡ | 🆓 免费 | ⭐⭐⭐⭐⭐ |
| 视频生成 | ⚡ | 🆓 免费 | ⭐⭐⭐⭐ |

## 💡 使用技巧

### 图片生成
- **提示词要详细**：描述风格、颜色、构图、氛围
- **尺寸选择**：根据用途选择合适比例
- **质量设置**：重要用途选择HD质量
- **批量生成**：可一次生成多张进行选择

### 视频生成
- **动作描述**：重点描述动作和运动
- **时长控制**：短视频效果更好
- **图生视频**：提供参考图片可获得更精确结果
- **耐心等待**：视频生成需要更长时间

## 🔧 故障排除

### 常见问题
1. **API Key错误**：确认智谱AI控制台中的Key正确
2. **生成失败**：检查网络连接和提示词是否合规
3. **响应超时**：视频生成时间较长，请耐心等待
4. **URL无效**：生成的URL有时效性，及时保存内容

### 测试方法
运行 `python test_api.py` 进行完整功能测试。 